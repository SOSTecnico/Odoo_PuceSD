<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!--Plantilla de correo para solicitar un permiso-->
        <record id="racetime.solicitud_permiso_email_template" model="mail.template">
            <field name="name">Solicitud de Permiso</field>
            <field name="model_id" ref="model_racetime_permisos"/>
            <field name="auto_delete" eval="True"/>
            <field name="email_to">{{object.aprobado_por_id.work_email}}</field>
            <field name="email_from">{{object.empleado_id.work_email}}</field>
            <field name="reply_to">dadministrativad@pucesd.edu.ec</field>
            <field name="subject">Solicitud de Permiso - {{object.tipo_permiso_id.name}}</field>
            <field name="body_html" type="html">
                <p>
                    Estimad@
                    <strong t-out="object.aprobado_por_id.name"></strong>
                </p>
                <p>
                    Mediante el presente correo se solicita un permiso de tipo -
                    <strong t-out="object.tipo_permiso_id.name"></strong>
                    -
                    por parte de: <strong t-out="object.empleado_id.name"></strong>
                    con los siguientes detalles:
                </p>
                <br/>
                <p>
                    <strong>Fecha Inicio:</strong>
                    <span t-out="object.desde_fecha"></span>
                </p>
                <p>
                    <strong>Fecha Fin:</strong>
                    <span t-out="object.hasta_fecha"></span>
                </p>
                <strong>Durante:</strong>
                <t t-if="object.todo_el_dia">
                    <span>Todo el Dia</span>
                </t>
                <t t-else="">
                    <p>
                        <strong >Hora Inicio:</strong>
                        <span t-out="'{0:02.0f}:{1:02.0f}'.format(*divmod(object.desde_hora * 60, 60))"></span>
                    </p>
                    <p>
                        <strong>Hora Fin:</strong>
                        <span t-out="'{0:02.0f}:{1:02.0f}'.format(*divmod(object.hasta_hora * 60, 60))"></span>
                    </p>
                </t>


            </field>
        </record>


    </data>
</odoo>